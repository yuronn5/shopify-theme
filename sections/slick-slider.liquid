{{ 'slick.css' | asset_url | stylesheet_tag }}
{{ 'slick-theme.css' | asset_url | stylesheet_tag }}
{{ "slick-slider.css" | asset_url | stylesheet_tag }}

<h1 class="slider-title">{{ section.settings.heading }}</h1>
<div class="customContainer">
  {% for block in  section.blocks %}
    <div class="slick__carousel--exterior">
      <div class="slick__carousel--interior">

        <div class="slick__carousel--quote">
          {% if block.settings.product.title %}
            <p>{{ block.settings.product.title }}</p>
          {% else %}
            <p>{{ block.settings.title }}</p>
          {% endif %}
        </div>

        {% if block.settings.product.featured_image %}
          {% comment %}if we set product render this{% endcomment %}
          <img class="slick__carousel--portrait" src="{{ block.settings.product.featured_image | img_url: 'master' }}" />
          <span class="product-price">{{ block.settings.product.price | money }}</span>
          <a href="{{ block.settings.product.url  }}" class="product-link" target="_blank">
            <button class="product-link-button">Go to Product</button>
          </a>
        {% else %}
          {% comment %}if we dont set product to block{% endcomment %}
          <img class="slick__carousel--portrait" src="{{ block.settings.image | img_url: 'master' }}" />
        {% endif %}

        <h4 class="slick__carousel--name">{{ block.settings.description }}</h4>
      </div>
    </div>
  {% endfor %}
</div>

<div class="category-btn-container">
  <a href="{{ shop.url }}/collections/all">View all</a>
</div>


{{ 'jquery-1.11.0.min.js' | asset_url | script_tag }}
{{ 'jquery-migrate-1.2.1.min.js' | asset_url | script_tag }}
{{ 'slick.min.js' | asset_url | script_tag }}

<style>
  .customContainer {
    display: flex;
    padding: 1em;
    gap: 1em;
  }

  .customContainer__slide {
    padding: 1em;
    box-shadow: 0px 10px 13px -7px #888686,
    0px -1px 23px -3px rgba(125, 123, 123, 0.52);
  }

  .customContainer__image {
    width: 10vw;
  }
</style>

<script>
  $('.customContainer').slick({
    dots: true,
    infinite: true,
    speed: 300,
    slidesToShow: 3,
    slidesToScroll: 1,
    responsive: [
      {
        breakpoint: 1024,
        settings: {
          slidesToShow: 3,
          slidesToScroll: 3,
          infinite: true,
          dots: true
        }
      },
      {
        breakpoint: 600,
        settings: {
          slidesToShow: 2,
          slidesToScroll: 2
        }
      },
      {
        breakpoint: 480,
        settings: {
          slidesToShow: 1,
          slidesToScroll: 1
        }
      }
      // You can unslick at a given breakpoint now by adding:
      // settings: "unslick"
      // instead of a settings object
    ]
  });
</script>

{% schema %}
{
  "name": "Slick slider products",
  "class": "custom-slider",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading label",
      "default": "Default heading label"
    }
  ],
  "blocks": [
    {
      "type": "column",
      "name": "product-slide",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Product Title",
          "default": "Default Title"
        },
        {
          "type": "image_picker",
          "id" : "image",
          "label" :  "Image"
        },
        {
          "type" : "text",
          "id" : "description",
          "label" : "Description",
          "default" : "Description"
        },
        {
          "type": "product",
          "id": "product",
          "label": "Product to show"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Slick slider products"
    }
  ]
}
{% endschema %}
